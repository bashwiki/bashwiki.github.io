# [리눅스] Bash mpstat 사용법

## 概述
`mpstat` 是一个用于监控系统 CPU 使用情况的命令行工具。它是 `sysstat` 软件包的一部分，能够提供每个可用 CPU 的统计信息，包括用户、系统、空闲和等待时间等。通过使用 `mpstat`，开发人员和工程师可以获取实时的 CPU 性能数据，从而帮助他们分析系统负载和优化性能。

## 用法
`mpstat` 的基本语法如下：

```bash
mpstat [选项] [间隔] [次数]
```

### 常用选项：
- `-P ALL`：显示所有 CPU 的统计信息。
- `-u`：显示 CPU 使用情况（默认选项）。
- `-h`：以人类可读的格式显示输出。
- `-V`：显示版本信息。

## 示例
### 示例 1：显示所有 CPU 的使用情况
要查看所有 CPU 的使用情况，可以使用以下命令：

```bash
mpstat -P ALL 1 5
```
此命令每秒钟输出一次所有 CPU 的使用情况，共输出 5 次。

### 示例 2：显示 CPU 使用情况并以人类可读的格式输出
如果希望以更易读的格式查看 CPU 使用情况，可以使用 `-h` 选项：

```bash
mpstat -u -h 2 3
```
此命令每 2 秒输出一次 CPU 使用情况，共输出 3 次。

## 提示
- 在高负载情况下，使用 `mpstat` 可以帮助识别 CPU 瓶颈，建议在性能调优时定期监控。
- 结合其他工具（如 `vmstat` 和 `iostat`）使用，可以获得更全面的系统性能视图。
- 可以将 `mpstat` 的输出重定向到文件中，以便后续分析，例如：

```bash
mpstat -P ALL 1 5 > cpu_usage.txt
```

通过这些信息，您可以有效地利用 `mpstat` 来监控和分析系统的 CPU 性能。