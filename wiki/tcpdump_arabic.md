# [리눅스] Bash tcpdump 사용법

## نظرة عامة
أداة `tcpdump` هي أداة سطر أوامر تُستخدم لمراقبة وتحليل حركة الشبكة. تُعتبر من الأدوات الأساسية لمهندسي الشبكات والمطورين، حيث تتيح لهم التقاط الحزم (packets) التي تمر عبر واجهة الشبكة. يمكن استخدامها لتشخيص مشاكل الشبكة، تحليل الأداء، أو حتى لمراقبة الأنشطة غير المصرح بها.

## الاستخدام
التركيب الأساسي لأداة `tcpdump` هو كالتالي:

```bash
tcpdump [خيارات] [تعبير_التصفية]
```

### الخيارات الشائعة:
- `-i <interface>`: تحديد واجهة الشبكة التي سيتم التقاط الحزم منها.
- `-n`: عدم تحويل عناوين IP إلى أسماء مضيفين، مما يُسرع عملية العرض.
- `-c <count>`: التقاط عدد محدد من الحزم ثم إنهاء العملية.
- `-w <file>`: كتابة الحزم الملتقطة إلى ملف بدلاً من عرضها على الشاشة.
- `-r <file>`: قراءة الحزم من ملف تم التقاطه سابقًا.

## أمثلة
### مثال 1: التقاط الحزم من واجهة شبكة معينة
```bash
tcpdump -i eth0
```
في هذا المثال، يتم التقاط جميع الحزم التي تمر عبر واجهة الشبكة `eth0`.

### مثال 2: التقاط عدد محدد من الحزم
```bash
tcpdump -i eth0 -c 10
```
هنا، يتم التقاط 10 حزم فقط من واجهة الشبكة `eth0` ثم تتوقف الأداة عن العمل.

## نصائح
- تأكد من تشغيل `tcpdump` بصلاحيات الجذر (root) أو باستخدام `sudo`، حيث تحتاج الأداة إلى صلاحيات مرتفعة للوصول إلى واجهات الشبكة.
- استخدم خيار `-n` لتسريع عملية العرض، خاصة عند التعامل مع حركة مرور كبيرة.
- قم بتصفية الحزم باستخدام تعبيرات تصفية محددة لتقليل كمية البيانات الملتقطة، مثل `tcpdump -i eth0 port 80` لالتقاط الحزم الخاصة بالاتصالات على المنفذ 80.
- احفظ الحزم في ملف باستخدام خيار `-w` لتحليلها لاحقًا باستخدام أدوات أخرى مثل Wireshark.