# [리눅스] Bash lsof 사용법

## نظرة عامة
يعتبر الأمر `lsof` (الذي يعني "قائمة الملفات المفتوحة") أداة قوية في نظام التشغيل لينكس تُستخدم لعرض معلومات حول الملفات المفتوحة والعمليات المرتبطة بها. يُستخدم هذا الأمر بشكل شائع من قبل المهندسين والمطورين لتحديد العمليات التي تستخدم ملفات معينة، مما يساعد في استكشاف الأخطاء وإصلاحها وإدارة النظام.

## الاستخدام
تأتي الصيغة الأساسية للأمر `lsof` كالتالي:

```bash
lsof [خيارات] [اسم الملف]
```

### الخيارات الشائعة:
- `-a`: يستخدم لدمج الشروط، مما يعني أنه يجب أن تتطابق جميع الشروط المحددة.
- `-p <PID>`: يعرض الملفات المفتوحة بواسطة عملية معينة معروفة بمعرف العملية (PID).
- `-u <user>`: يعرض الملفات المفتوحة بواسطة مستخدم معين.
- `-i`: يعرض معلومات عن الاتصالات الشبكية.
- `-t`: يعرض فقط معرّفات العمليات (PIDs) بدون معلومات إضافية.

## أمثلة
### المثال 1: عرض جميع الملفات المفتوحة
للحصول على قائمة بجميع الملفات المفتوحة على النظام، يمكنك استخدام الأمر التالي:

```bash
lsof
```

### المثال 2: عرض الملفات المفتوحة بواسطة عملية معينة
إذا كنت تعرف معرف العملية (PID) وتريد معرفة الملفات المفتوحة بواسطة هذه العملية، يمكنك استخدام الأمر التالي:

```bash
lsof -p 1234
```
استبدل `1234` بمعرف العملية الفعلي.

## نصائح
- استخدم الأمر `lsof` مع خيارات مثل `-u` أو `-i` للحصول على معلومات أكثر تحديدًا حول الملفات المفتوحة أو الاتصالات الشبكية.
- يمكن دمج الخيارات المختلفة لتحقيق نتائج دقيقة، مثل استخدام `-a` مع `-u` و `-i` لتصفية النتائج بشكل أكبر.
- تأكد من تشغيل الأمر كمسؤول (باستخدام `sudo`) إذا كنت بحاجة إلى معلومات حول العمليات التي تتطلب أذونات أعلى.

باستخدام الأمر `lsof`، يمكنك الحصول على رؤى قيمة حول كيفية استخدام الملفات والموارد في نظامك، مما يسهل عملية استكشاف الأخطاء وإصلاحها.