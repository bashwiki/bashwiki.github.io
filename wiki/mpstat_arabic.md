# [리눅스] Bash mpstat 사용법

## نظرة عامة
أداة `mpstat` هي أداة مراقبة أداء النظام في بيئة لينكس. تستخدم لعرض إحصائيات استخدام المعالج (CPU) بشكل مفصل، مما يساعد المهندسين والمطورين على تحليل أداء النظام وتحديد أي مشاكل محتملة. يمكن أن تعرض `mpstat` معلومات عن كل معالج على حدة أو عن النظام ككل، مما يجعلها أداة مفيدة لتشخيص الأداء.

## الاستخدام
الصيغة الأساسية لاستخدام الأمر `mpstat` هي كما يلي:

```bash
mpstat [خيارات] [فترة] [عدد مرات العرض]
```

### الخيارات الشائعة:
- `-P ALL`: يعرض إحصائيات جميع المعالجات.
- `-u`: يعرض استخدام وحدة المعالجة المركزية.
- `-h`: يعرض الإحصائيات بطريقة سهلة القراءة (مع استخدام الوحدات المناسبة).
- `فترة`: الفترة الزمنية بين كل عرض للإحصائيات (بالثواني).
- `عدد مرات العرض`: عدد مرات عرض الإحصائيات.

## أمثلة
### مثال 1: عرض إحصائيات جميع المعالجات
لعرض إحصائيات استخدام المعالج لكل معالج في النظام كل 2 ثانية، يمكنك استخدام الأمر التالي:

```bash
mpstat -P ALL 2
```

### مثال 2: عرض إحصائيات استخدام وحدة المعالجة المركزية
لعرض إحصائيات استخدام وحدة المعالجة المركزية بشكل عام، يمكنك استخدام الأمر:

```bash
mpstat -u 1 5
```
هذا الأمر سيعرض إحصائيات استخدام المعالج كل ثانية، لمدة 5 مرات.

## نصائح
- استخدم الخيار `-h` للحصول على عرض أكثر وضوحًا وسهولة في القراءة.
- قم بتشغيل `mpstat` مع خيارات أخرى مثل `vmstat` و`iostat` للحصول على صورة شاملة عن أداء النظام.
- تأكد من أن لديك الأذونات اللازمة لت تشغيل `mpstat`، حيث قد تحتاج إلى صلاحيات المستخدم الجذر في بعض الأنظمة.