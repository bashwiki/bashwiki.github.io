# [리눅스] Bash wait 사용법

## Обзор
Команда `wait` в Bash используется для приостановки выполнения скрипта до тех пор, пока не завершатся все фоновые процессы, запущенные в текущем сеансе. Основное назначение этой команды — синхронизация выполнения, позволяя скрипту дождаться завершения определённых задач, прежде чем продолжить выполнение последующих команд.

## Использование
Основной синтаксис команды `wait` выглядит следующим образом:

```bash
wait [PID]
```

- `PID` — это идентификатор процесса (Process ID). Если `PID` не указан, команда `wait` будет ожидать завершения всех фоновых процессов, запущенных в текущем сеансе.

## Примеры
### Пример 1: Ожидание всех фоновых процессов
В этом примере мы запустим два фоновых процесса и затем используем `wait`, чтобы дождаться их завершения.

```bash
#!/bin/bash

sleep 5 &  # Запуск первого фонового процесса
sleep 3 &  # Запуск второго фонового процесса

wait       # Ожидание завершения всех фоновых процессов
echo "Все фоновые процессы завершены."
```

### Пример 2: Ожидание конкретного процесса
В этом примере мы будем ожидать завершения конкретного фонового процесса, используя его PID.

```bash
#!/bin/bash

sleep 5 &  # Запуск фонового процесса
PID=$!     # Сохранение PID последнего запущенного процесса

echo "Ожидание завершения процесса с PID $PID..."
wait $PID  # Ожидание завершения конкретного процесса
echo "Процесс с PID $PID завершен."
```

## Советы
- Используйте `wait` для управления зависимостями между процессами в ваших скриптах. Это поможет избежать ошибок, связанных с тем, что один процесс зависит от результата другого.
- Если вы хотите обрабатывать завершение фоновых процессов по отдельности, сохраняйте их PID и используйте `wait` для каждого из них.
- Помните, что `wait` возвращает код завершения последнего завершившегося процесса, что может быть полезно для обработки ошибок в ваших скриптах.