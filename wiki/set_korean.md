# [리눅스] Bash set 사용법

## Overview
`set` 명령어는 Bash 셸에서 다양한 환경 변수를 설정하고 셸의 동작 방식을 제어하는 데 사용됩니다. 이 명령어는 스크립트나 셸 세션에서 옵션을 활성화하거나 비활성화하여 스크립트의 동작을 조정할 수 있는 강력한 도구입니다. 주로 디버깅, 오류 처리 및 셸의 기본 설정을 변경하는 데 유용합니다.

## Usage
`set` 명령어의 기본 구문은 다음과 같습니다:

```bash
set [옵션] [값]
```

### 일반적인 옵션
- `-e`: 명령어가 실패할 경우 스크립트를 즉시 종료합니다.
- `-u`: 정의되지 않은 변수를 사용하려고 할 때 오류를 발생시킵니다.
- `-x`: 실행되는 각 명령어를 출력하여 디버깅을 돕습니다.
- `-o`: 특정 옵션을 활성화하거나 비활성화합니다. 예를 들어, `-o noclobber`는 기존 파일을 덮어쓰지 않도록 합니다.

## Examples
### 예제 1: 오류 발생 시 스크립트 종료
```bash
#!/bin/bash
set -e  # 오류 발생 시 스크립트 종료

echo "첫 번째 명령어 실행"
false  # 이 명령어는 실패합니다.
echo "이 메시지는 출력되지 않습니다."  # 이 줄은 실행되지 않음
```

### 예제 2: 디버깅 정보 출력
```bash
#!/bin/bash
set -x  # 각 명령어를 실행하기 전에 출력

echo "디버깅 시작"
ls /nonexistentfile  # 존재하지 않는 파일을 조회하여 오류 발생
echo "이 메시지는 출력되지 않음"  # 이 줄은 실행되지 않음
```

## Tips
- 스크립트의 시작 부분에 `set -e`와 `set -u`를 추가하면 오류를 조기에 발견하고, 정의되지 않은 변수를 사용하여 발생할 수 있는 문제를 예방할 수 있습니다.
- `set -x`를 사용하여 디버깅할 때는, 스크립트의 마지막에 `set +x`를 추가하여 디버깅 출력을 중지하는 것이 좋습니다. 이렇게 하면 불필요한 정보가 출력되지 않도록 할 수 있습니다.
- 스크립트의 특정 부분에서만 옵션을 적용하고 싶다면, 해당 부분에서 `set` 명령어를 사용한 후, 필요한 경우 `set +옵션`으로 원래 상태로 되돌릴 수 있습니다.