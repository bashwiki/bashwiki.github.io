# [리눅스] Bash readarray 사용법

## 概要
`readarray` コマンドは、標準入力からのデータを配列に読み込むための Bash の組み込みコマンドです。このコマンドは、ファイルやコマンドの出力を行単位で配列に格納するのに非常に便利です。特に、複数行のデータを扱う際に役立ちます。

## 使用法
基本的な構文は以下の通りです。

```bash
readarray [オプション] 配列名
```

### 一般的なオプション
- `-t` : 各行の末尾にある改行文字を削除します。
- `-n 数` : 読み込む行数を指定します。指定した行数のみが配列に格納されます。
- `-s 数` : 読み飛ばす行数を指定します。指定した行数分は配列に格納されません。

## 例
### 例 1: ファイルから配列に読み込む
次のコマンドは、`file.txt` というファイルの各行を配列 `lines` に読み込みます。

```bash
readarray lines < file.txt
```

この後、`lines` 配列には `file.txt` の各行が格納されます。

### 例 2: コマンドの出力を配列に読み込む
次のコマンドは、`ls` コマンドの出力を配列 `files` に読み込みます。

```bash
readarray -t files < <(ls)
```

この場合、`files` 配列にはカレントディレクトリ内のファイル名が格納されます。

## ヒント
- `readarray` を使用する際は、`-t` オプションを使用して改行文字を削除することをお勧めします。これにより、配列の各要素が不要な改行を含まないようになります。
- 大きなファイルを扱う場合、`-n` および `-s` オプションを活用して、必要な行だけを効率的に読み込むことができます。
- 配列の内容を確認するには、`printf` コマンドを使用して配列の各要素を表示することができます。

```bash
printf "%s\n" "${lines[@]}"
```

このように、`readarray` コマンドを利用することで、データの操作がより簡単かつ効率的になります。