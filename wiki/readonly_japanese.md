# [리눅스] Bash readonly 사용법

## 概要
`readonly` コマンドは、Bash シェルにおいて変数を読み取り専用として設定するためのコマンドです。これにより、指定した変数の値を変更できなくなり、意図しない変更から保護することができます。主にスクリプト内での変数の不変性を確保するために使用されます。

## 使用法
`readonly` コマンドの基本的な構文は以下の通りです。

```bash
readonly [変数名[=値]]
```

- `変数名`: 読み取り専用に設定する変数の名前を指定します。
- `=値`: 変数に初期値を設定するオプションです。この部分は省略可能です。

### 一般的なオプション
`readonly` コマンドには特にオプションはありませんが、変数を指定することでその変数を読み取り専用にすることができます。

## 例
以下に `readonly` コマンドの実用的な例を示します。

### 例 1: 変数を読み取り専用に設定する
```bash
#!/bin/bash

readonly MY_VAR="Hello, World!"
echo $MY_VAR

# MY_VARの値を変更しようとするとエラーが発生します
MY_VAR="New Value"  # エラー: readonly variable
```

このスクリプトでは、`MY_VAR` という変数が読み取り専用として設定されているため、後でその値を変更しようとするとエラーが発生します。

### 例 2: 変数のリストを表示する
```bash
#!/bin/bash

readonly VAR1="Value1"
readonly VAR2="Value2"

echo "読み取り専用変数のリスト:"
declare -p | grep readonly
```

このスクリプトでは、現在のシェルセッションで設定されているすべての読み取り専用変数をリスト表示します。

## ヒント
- `readonly` を使用することで、スクリプトの可読性と保守性が向上します。特に大規模なスクリプトやチームでの開発において、変数の意図しない変更を防ぐために役立ちます。
- 変数を読み取り専用に設定した後は、その変数を変更しようとするとエラーが発生するため、スクリプトのデバッグ時には注意が必要です。
- `readonly` で設定した変数は、シェルセッションが終了するまで有効です。セッションを終了すると、設定はリセットされます。