# [리눅스] Bash readarray 사용법

## Overview
`readarray` 명령은 Bash에서 파일이나 표준 입력으로부터 데이터를 읽어 배열에 저장하는 데 사용됩니다. 이 명령은 각 줄을 배열의 요소로 변환하여, 이후 스크립트에서 쉽게 접근하고 조작할 수 있도록 합니다. `readarray`는 특히 여러 줄의 데이터를 처리해야 할 때 유용합니다.

## Usage
기본 구문은 다음과 같습니다:

```bash
readarray [옵션] 배열이름
```

### 일반 옵션
- `-t`: 각 줄의 끝에 있는 개행 문자를 제거합니다. 이 옵션을 사용하면 배열의 요소가 더 깔끔하게 저장됩니다.
- `-n N`: N개의 줄만 읽어옵니다. 이 옵션을 사용하면 필요한 줄 수만큼만 배열에 저장할 수 있습니다.
- `-s N`: N개의 줄을 건너뛰고 읽기 시작합니다. 이 옵션은 특정 줄부터 데이터를 읽고 싶을 때 유용합니다.

## Examples
### 예제 1: 파일에서 배열로 읽기
다음은 `file.txt`라는 파일에서 내용을 읽어 배열에 저장하는 예제입니다.

```bash
readarray -t lines < file.txt
```

이 명령은 `file.txt`의 각 줄을 `lines`라는 배열의 요소로 저장합니다. 각 줄의 개행 문자는 제거됩니다.

### 예제 2: 표준 입력에서 읽기
사용자로부터 입력을 받아 배열에 저장하는 방법은 다음과 같습니다.

```bash
echo -e "첫 번째 줄\n두 번째 줄\n세 번째 줄" | readarray -t lines
```

이 명령은 표준 입력으로부터 세 줄의 데이터를 읽어 `lines` 배열에 저장합니다.

## Tips
- `readarray`를 사용할 때 `-t` 옵션을 사용하는 것이 좋습니다. 이렇게 하면 배열의 요소에 불필요한 개행 문자가 포함되지 않아 데이터 처리가 더 용이해집니다.
- 배열의 내용을 확인하려면 다음과 같이 사용할 수 있습니다:

```bash
printf '%s\n' "${lines[@]}"
```

이 명령은 `lines` 배열의 모든 요소를 출력합니다. 

- `readarray`는 Bash 4.0 이상에서 지원되므로, 이전 버전에서는 사용할 수 없습니다. Bash 버전을 확인하려면 `bash --version` 명령을 사용하세요.