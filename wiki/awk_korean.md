# [리눅스] Bash awk 사용법

## Overview
`awk`는 텍스트 파일에서 데이터를 처리하고 분석하는 데 사용되는 강력한 프로그래밍 언어이자 도구입니다. 주로 패턴 매칭, 데이터 추출, 형식화된 출력 생성에 사용되며, CSV 파일이나 로그 파일과 같은 구조화된 데이터에서 유용하게 활용됩니다. `awk`는 필드 구분자를 기반으로 데이터를 처리하므로, 각 필드를 쉽게 조작할 수 있습니다.

## Usage
`awk`의 기본 구문은 다음과 같습니다:

```bash
awk '패턴 { 동작 }' 파일이름
```

- `패턴`: 데이터를 필터링하는 조건을 지정합니다. 이 부분은 생략할 수 있으며, 생략할 경우 모든 행이 처리됩니다.
- `동작`: 패턴이 일치하는 행에 대해 수행할 작업을 정의합니다. 이 또한 생략할 수 있으며, 기본적으로는 해당 행을 출력합니다.

### 일반적인 옵션
- `-F`: 필드 구분자를 지정합니다. 기본적으로 공백이 필드 구분자로 사용됩니다.
- `-v`: 변수를 정의할 때 사용합니다. 스크립트 내에서 사용할 변수를 미리 설정할 수 있습니다.

## Examples
### 예제 1: 특정 필드 출력하기
다음 명령어는 `data.txt` 파일에서 두 번째 필드만 출력합니다. 필드는 쉼표로 구분되어 있다고 가정합니다.

```bash
awk -F, '{print $2}' data.txt
```

### 예제 2: 조건에 맞는 행 필터링
다음 명령어는 `data.txt` 파일에서 첫 번째 필드가 "apple"인 행만 출력합니다.

```bash
awk -F, '$1 == "apple" {print}' data.txt
```

## Tips
- `awk` 스크립트를 작성할 때는 주석을 사용하여 코드의 가독성을 높이는 것이 좋습니다. `#` 기호를 사용하여 주석을 추가할 수 있습니다.
- 복잡한 작업을 수행할 때는 `BEGIN`과 `END` 블록을 활용하여 초기화 작업 및 최종 출력을 처리할 수 있습니다.
- `awk`는 다양한 내장 함수를 제공하므로, 문자열 처리나 수치 계산을 할 때 유용하게 사용할 수 있습니다.