# [리눅스] Bash logrotate 사용법

## Overview
`logrotate`는 리눅스 시스템에서 로그 파일을 관리하기 위한 도구입니다. 주로 로그 파일의 크기가 너무 커지는 것을 방지하고, 오래된 로그 파일을 자동으로 압축하거나 삭제하여 디스크 공간을 절약하는 데 사용됩니다. `logrotate`는 주기적으로 로그 파일을 회전시키고, 설정된 규칙에 따라 로그 파일을 관리합니다.

## Usage
기본적인 `logrotate` 명령어의 구문은 다음과 같습니다:

```bash
logrotate [옵션] [설정 파일]
```

### 일반적인 옵션
- `-f`, `--force`: 로그 회전을 강제로 수행합니다. 설정된 주기와 관계없이 로그 파일을 회전시킵니다.
- `-s`, `--state`: 상태 파일의 경로를 지정합니다. 기본적으로 `/var/lib/logrotate/status`를 사용합니다.
- `-v`, `--verbose`: 로그 회전 과정에서 발생하는 작업을 자세히 출력합니다.
- `-d`, `--debug`: 실제로 로그 회전을 수행하지 않고, 어떤 작업이 수행될 것인지 보여줍니다.

## Examples
### 예제 1: 기본 로그 회전
다음 명령어는 기본 설정 파일인 `/etc/logrotate.conf`를 사용하여 로그 회전을 수행합니다.

```bash
logrotate /etc/logrotate.conf
```

### 예제 2: 강제로 로그 회전
특정 로그 파일을 강제로 회전시키고 싶다면, 다음과 같이 `-f` 옵션을 사용할 수 있습니다.

```bash
logrotate -f /etc/logrotate.d/myapp
```

위 명령어는 `myapp`에 대한 로그 회전을 강제로 수행합니다.

## Tips
- `logrotate` 설정 파일을 작성할 때는 각 로그 파일에 대한 회전 주기, 보존 기간, 압축 여부 등을 명확히 정의하는 것이 중요합니다.
- 주기적으로 로그 파일을 회전시키는 cron 작업을 설정하여 자동화할 수 있습니다.
- 로그 파일이 너무 커지지 않도록 적절한 회전 주기를 설정하고, 오래된 로그 파일은 정기적으로 삭제하거나 아카이브하는 것이 좋습니다.