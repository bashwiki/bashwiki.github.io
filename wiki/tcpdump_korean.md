# [리눅스] Bash tcpdump 사용법

## Overview
`tcpdump`는 네트워크 패킷을 캡처하고 분석하는 데 사용되는 강력한 명령어입니다. 주로 네트워크 트래픽을 모니터링하거나 문제를 진단하기 위해 사용되며, 다양한 프로토콜을 지원합니다. 이 도구는 네트워크의 흐름을 이해하고 보안 문제를 해결하는 데 유용합니다.

## Usage
`tcpdump`의 기본 구문은 다음과 같습니다:

```bash
tcpdump [옵션] [필터 표현식]
```

### 일반적인 옵션
- `-i <인터페이스>`: 패킷을 캡처할 네트워크 인터페이스를 지정합니다. 예: `-i eth0`
- `-n`: IP 주소와 포트를 숫자로 표시하여 DNS 조회를 방지합니다.
- `-v`, `-vv`, `-vvv`: 출력의 상세 수준을 증가시킵니다.
- `-c <개수>`: 캡처할 패킷의 수를 지정합니다.
- `-w <파일>`: 캡처한 패킷을 파일에 저장합니다.
- `-r <파일>`: 저장된 패킷 파일을 읽어 분석합니다.

## Examples
1. 특정 인터페이스에서 모든 패킷 캡처하기:
   ```bash
   tcpdump -i eth0
   ```
   이 명령어는 `eth0` 인터페이스에서 모든 패킷을 실시간으로 캡처합니다.

2. 특정 포트에서의 패킷 캡처 및 파일 저장하기:
   ```bash
   tcpdump -i eth0 port 80 -w output.pcap
   ```
   이 명령어는 `eth0` 인터페이스에서 HTTP 트래픽(포트 80)을 캡처하여 `output.pcap` 파일에 저장합니다.

## Tips
- `tcpdump`를 사용할 때는 관리자 권한이 필요할 수 있으므로 `sudo`를 사용해야 할 수 있습니다.
- 패킷 캡처를 시작하기 전에 캡처할 필터를 설정하면 불필요한 데이터의 양을 줄일 수 있습니다.
- 캡처한 패킷을 분석하기 위해 Wireshark와 같은 GUI 도구와 함께 사용하면 더욱 편리합니다.
- 네트워크 트래픽을 모니터링할 때는 법적 및 윤리적 고려사항을 항상 염두에 두어야 합니다.