# [리눅스] Bash inotifywait 사용법

## 概要
`inotifywait`は、Linuxのinotify機能を利用して、ファイルシステムのイベントを監視するためのコマンドです。このコマンドは、特定のファイルやディレクトリに対する変更（作成、削除、変更など）をリアルタイムで監視し、変更が発生した際に通知を受け取ることができます。主に、ファイルの変更をトリガーにして自動化スクリプトを実行する際に使用されます。

## 使用法
`inotifywait`の基本的な構文は以下の通りです。

```bash
inotifywait [オプション] [監視するファイルまたはディレクトリ]
```

### 一般的なオプション
- `-m`または`--monitor`: 監視モードを有効にし、イベントが発生するたびに通知を受け取ります。
- `-r`または`--recursive`: 指定したディレクトリとそのサブディレクトリを再帰的に監視します。
- `-e`または`--event`: 監視するイベントの種類を指定します（例: `modify`, `create`, `delete`など）。
- `--format`: 出力フォーマットを指定します。

## 例
### 例1: 単一ファイルの変更を監視する
以下のコマンドは、`example.txt`ファイルの変更を監視します。

```bash
inotifywait -m -e modify example.txt
```

このコマンドを実行すると、`example.txt`が変更されるたびに、そのイベントが表示されます。

### 例2: ディレクトリ内のすべてのファイルの作成と削除を監視する
以下のコマンドは、`/path/to/directory`内のファイルの作成と削除を監視します。

```bash
inotifywait -m -r -e create -e delete /path/to/directory
```

このコマンドを実行すると、指定したディレクトリ内でファイルが作成または削除されるたびに、そのイベントが表示されます。

## ヒント
- `inotifywait`は、スクリプト内で他のコマンドをトリガーするために非常に便利です。例えば、ファイルが変更されたときに自動的にバックアップを作成するスクリプトを作成できます。
- 監視するイベントを必要最低限に絞ることで、出力を整理し、パフォーマンスを向上させることができます。
- `--format`オプションを使用して、出力をカスタマイズすることで、必要な情報だけを表示することができます。

`inotifywait`を活用することで、ファイルシステムの変更を効率的に監視し、必要なアクションを自動化することができます。