# [리눅스] Bash readarray 사용법

## نظرة عامة
يستخدم الأمر `readarray` في Bash لقراءة محتويات ملف نصي أو تدفق إدخال قياسي (stdin) وتخزينها في مصفوفة. الهدف الرئيسي من هذا الأمر هو تسهيل عملية قراءة البيانات في شكل صفوف، حيث يتم تخزين كل صف في عنصر منفصل من المصفوفة. هذا يجعل من السهل التعامل مع البيانات النصية في البرمجة النصية.

## الاستخدام
التركيب الأساسي للأمر `readarray` هو كما يلي:

```bash
readarray [options] array_name
```

### الخيارات الشائعة:
- `-t`: يحذف أحرف نهاية السطر من كل عنصر في المصفوفة.
- `-n count`: يقرأ عددًا محددًا من الأسطر من الإدخال.
- `-O index`: يبدأ من الفهرس المحدد عند تخزين العناصر في المصفوفة.

## أمثلة
### المثال 1: قراءة ملف نصي إلى مصفوفة
```bash
readarray -t lines < myfile.txt
echo "${lines[@]}"
```
في هذا المثال، يتم قراءة محتويات `myfile.txt` وتخزينها في المصفوفة `lines`. يتم استخدام الخيار `-t` لحذف أحرف نهاية السطر.

### المثال 2: قراءة الإدخال القياسي
```bash
echo -e "line1\nline2\nline3" | readarray -t lines
printf "%s\n" "${lines[@]}"
```
هنا، يتم استخدام `echo` لإرسال ثلاث سطور إلى `readarray` عبر الإدخال القياسي. يتم تخزين السطور في المصفوفة `lines` ثم يتم طباعتها.

## نصائح
- تأكد من استخدام الخيار `-t` إذا كنت لا ترغب في تضمين أحرف نهاية السطر في عناصر المصفوفة.
- يمكنك استخدام `readarray` مع أنابيب (pipes) لقراءة البيانات من الأوامر الأخرى، مما يجعلها أداة قوية في البرمجة النصية.
- إذا كنت بحاجة إلى قراءة عدد محدد من الأسطر، استخدم الخيار `-n` لتحديد العدد المطلوب.