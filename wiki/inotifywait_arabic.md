# [리눅스] Bash inotifywait 사용법

## نظرة عامة
أداة `inotifywait` هي أداة تستخدم في نظام التشغيل لينوكس لمراقبة التغييرات في نظام الملفات. تسمح هذه الأداة للمستخدمين بمراقبة الأحداث مثل إنشاء الملفات، تعديلها، حذفها، أو تغيير أذونات الملفات في الوقت الحقيقي. يتم استخدام `inotifywait` بشكل شائع في السكربتات أو التطبيقات التي تحتاج إلى الاستجابة الفورية لتغييرات الملفات.

## الاستخدام
الصيغة الأساسية للأمر `inotifywait` هي كما يلي:

```bash
inotifywait [خيارات] [مسار]
```

### الخيارات الشائعة:
- `-m`: وضع المراقبة المستمرة، حيث يبقى الأمر قيد التشغيل ويستمر في مراقبة التغييرات.
- `-r`: مراقبة المجلدات الفرعية بشكل متكرر.
- `-e`: تحديد نوع الحدث الذي ترغب في مراقبته، مثل `create` (إنشاء)، `modify` (تعديل)، `delete` (حذف)، وغيرها.
- `--format`: تحديد تنسيق الإخراج.

## أمثلة
### مثال 1: مراقبة مجلد معين
لمراقبة مجلد معين لرصد أي تغييرات، يمكنك استخدام الأمر التالي:

```bash
inotifywait -m -e modify,create,delete /path/to/directory
```
هذا الأمر سيبقي `inotifywait` قيد التشغيل، وسيقوم بإخطارك عند حدوث أي تعديل، إنشاء، أو حذف في المجلد المحدد.

### مثال 2: مراقبة مجلد مع المجلدات الفرعية
إذا كنت ترغب في مراقبة مجلد مع جميع المجلدات الفرعية، يمكنك استخدام الخيار `-r` كما يلي:

```bash
inotifywait -mr -e modify /path/to/directory
```
هذا الأمر سيقوم بمراقبة جميع التعديلات التي تحدث في المجلد الرئيسي والمجلدات الفرعية.

## نصائح
- تأكد من أن لديك الأذونات المناسبة لمراقبة الملفات أو المجلدات التي تريد استخدامها مع `inotifywait`.
- استخدم الخيار `--format` لتخصيص إخراج الأحداث، مما يسهل قراءة السجلات أو دمجها في سكربتات أخرى.
- يمكن دمج `inotifywait` مع أدوات أخرى في Bash مثل `grep` أو `awk` لمعالجة الأحداث بشكل أكثر تعقيدًا.
- تذكر أن `inotifywait` يعتمد على نظام `inotify`، لذا تأكد من أن النظام الخاص بك يدعم هذه الميزة.

باستخدام `inotifywait`، يمكنك بسهولة مراقبة تغييرات الملفات والتفاعل معها بشكل فعال في بيئات تطوير البرمجيات.