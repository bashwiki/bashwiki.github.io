# [리눅스] Bash tcpdump 사용법

## Обзор
`tcpdump` — это мощный инструмент командной строки для захвата и анализа сетевого трафика. Он позволяет пользователям просматривать пакеты, проходящие через сетевой интерфейс, что полезно для диагностики сетевых проблем, мониторинга активности и анализа безопасности. `tcpdump` поддерживает различные протоколы и может фильтровать трафик по множеству критериев.

## Использование
Основной синтаксис команды `tcpdump` выглядит следующим образом:

```bash
tcpdump [опции] [фильтр]
```

### Общие опции:
- `-i <интерфейс>`: Указывает сетевой интерфейс для захвата трафика (например, `eth0`, `wlan0`).
- `-n`: Отключает разрешение имен хостов и портов, выводя IP-адреса и номера портов в числовом формате.
- `-c <количество>`: Ограничивает количество захваченных пакетов до указанного числа.
- `-w <файл>`: Записывает захваченные пакеты в файл для последующего анализа.
- `-r <файл>`: Читает пакеты из файла, созданного с помощью опции `-w`.

## Примеры
### Пример 1: Захват трафика на интерфейсе
Чтобы захватить трафик на интерфейсе `eth0`, можно использовать следующую команду:

```bash
tcpdump -i eth0
```

### Пример 2: Захват только HTTP-трафика
Для захвата только HTTP-трафика можно использовать фильтр:

```bash
tcpdump -i eth0 -n 'tcp port 80'
```

Этот пример захватывает пакеты, которые проходят через порт 80 (HTTP) на интерфейсе `eth0`, не разрешая имена хостов.

## Советы
- Используйте опцию `-c`, чтобы ограничить количество захваченных пакетов, особенно если вы ожидаете большого объема трафика.
- Для более удобного анализа сохраните захваченные пакеты в файл с помощью опции `-w`, а затем используйте `tcpdump -r` для их анализа.
- Будьте осторожны с разрешением имен хостов, так как это может замедлить захват. Используйте опцию `-n`, если вам не нужно видеть имена хостов.
- Изучите синтаксис фильтров `tcpdump`, чтобы более точно настраивать захват пакетов.