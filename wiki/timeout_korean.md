# [리눅스] Bash timeout 사용법

## Overview
`timeout` 명령어는 지정된 시간 동안 명령어를 실행한 후 자동으로 종료시키는 기능을 제공합니다. 이 명령은 특히 무한 루프에 빠지거나 응답하지 않는 프로세스를 관리하는 데 유용합니다. 개발자와 시스템 관리자는 이 명령을 사용하여 리소스를 효율적으로 관리하고 시스템의 안정성을 높일 수 있습니다.

## Usage
`timeout` 명령어의 기본 구문은 다음과 같습니다:

```bash
timeout [옵션] 시간 명령 [인수...]
```

### 주요 옵션
- `시간`: 명령어가 실행될 최대 시간입니다. 이 값은 숫자와 단위를 조합하여 지정할 수 있습니다. 예를 들어, `5s`는 5초, `1m`은 1분, `2h`는 2시간을 의미합니다.
- `-k, --kill-after=시간`: 지정된 시간 후에도 명령어가 종료되지 않으면 강제로 종료할 시간을 설정합니다.
- `-s, --signal=신호`: 종료할 때 사용할 신호를 지정합니다. 기본값은 `TERM`입니다.

## Examples
### 예제 1: 기본 사용법
다음 명령어는 `sleep` 명령을 10초 동안 실행하되, 5초 후에 종료합니다.

```bash
timeout 5s sleep 10
```
이 경우, `sleep` 명령은 5초 후에 종료되며, 실제로는 5초만 실행됩니다.

### 예제 2: 강제 종료
다음 명령어는 `sleep` 명령을 10초 동안 실행하되, 3초 후에 강제로 종료합니다.

```bash
timeout -k 3s 5s sleep 10
```
이 경우, `sleep` 명령은 5초 후에 종료되지만, 만약 종료되지 않는다면 3초 후에 강제로 종료됩니다.

## Tips
- `timeout` 명령어는 스크립트에서 프로세스의 실행 시간을 제한할 때 유용합니다. 이를 통해 시스템 자원을 보호하고 예기치 않은 상황을 방지할 수 있습니다.
- 명령어가 종료된 후의 상태 코드를 확인하여 프로세스가 정상적으로 종료되었는지 확인할 수 있습니다. 예를 들어, `$?` 변수를 사용하여 마지막 명령의 종료 상태를 확인할 수 있습니다.
- `timeout`을 사용할 때는 명령어가 종료되는 방식(정상 종료 또는 강제 종료)에 따라 후속 작업을 다르게 처리할 수 있도록 스크립트를 설계하는 것이 좋습니다.